{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/rarensu/docsummary/v1.0/tex/schema.json",
    "title": "Richard's custom document summary schema (v1.0)",
    "description": "JSON schema for organizing summaries of a long latex document with a hierarchical structure.",
    "type": "object",
    "properties": {
        "document_name": {
            "description": "The name of the document being summarized.",
            "type": "string"
        },
        "contents": {
            "description": "An itemized list of summaries from the document, representing a hierarchical structure.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "prefix": {
                        "type": "string",
                        "description": "The type of document element.",
                        "enum": [
                            "Document",
                            "Chapter",
                            "Section",
                            "Subsection",
                            "Subsubsection",
                            "Paragraph",
                            "Figure",
                            "Table",
                            "Equation",
                            "Footnote",
                            "Quote",
                            "Other",
                            "None"
                        ]
                    },
                    "label": {
                        "type": "string",
                        "description": "A unique label for the document element (used with \\label{}).  Cannot contain spaces.",
                        "pattern": "^[^\\n]+$"
                    },
                    "parent": {
                        "type": "string",
                        "description": "The label of the parent document element. Cannot contain spaces.",
                        "pattern": "^[^\\n]+$"
                    },
                    "children": {
                        "type": "array",
                        "description": "An array of labels for child document elements.",
                        "items": {
                            "type": "string",
                            "pattern": "^[^\\n]+$"
                        }
                    },
                    "title": {
                        "type": "string",
                        "description": "The title of the document element."
                    },
                    "summary": {
                        "type": "string",
                        "description": "A brief summary of the document element."
                    },
                    "keywords": {
                        "type": "array",
                        "description": "Keywords relevant to the document element.",
                        "items": {
                            "type": "string"
                        }
                    },
                    "comment": {
                        "type": "string",
                        "description": "Any additional comments or notes about the document element."
                    }
                },
                "required": [
                    "label",
                    "prefix"
                ],
                "oneOf": [
                    {
                        "required": [
                            "title"
                        ]
                    },
                    {
                        "required": [
                            "summary"
                        ]
                    },
                    {
                        "required": [
                            "keywords"
                        ]
                    },
                    {
                        "required": [
                            "comment"
                        ]
                    }
                ]
            }
        },
        "response_status": {
            "description": "The agent's self-reported success or failure in summarizing the document.",
            "type": "string",
            "enum": [
                "success",
                "failure",
                "partial_success"
            ]
        }
    },
    "required": [
        "document_name",
        "contents",
        "response_status"
    ]
}
